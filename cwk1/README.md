# COMP1721 Coursework 1

Everything you need to do in this assignment, aside from editing code, is
handled by the Gradle build system.  You can run Gradle from the command
line or use it from within the IntelliJ IDE if you prefer.  If using
IntelliJ, please use a recent version of the IDE on your own PC and run
the *Import Project* wizard, specifying the project type as 'Gradle'.

**You do not need to install Gradle yourself**, as we've included a
'Gradle wrapper' that will download a compatible version of the tool, along
with various library dependencies, if required.  **This will be very slow
the first time that it runs!**

On Linux and macOS, run the wrapper with `./gradlew`.  On Windows, it should
be possible to run it with `gradlew`.  The commands below assume the use
of Linux or macOS. **Please remember that we are unable to support the use
of Windows for the practical work in this module**, and certain aspects
of the workflow - such as preparing files for submission - will definitely
*not* work on Windows.

The different coursework artifacts are organised into separate projects.
You can list these projects with `./gradlew projects`.  The project name
needs to be included when running tasks within a specific project.

## Tests & Syle Checking

To run all the unit tests, recompiling code where necessary, do

    ./gradlew :core:test

To run only the tests for the basic solution, do

    ./gradlew :core:test --tests Basic

Substitute `Full` for `Basic` in the above command to run only the tests
for the full solution.

Tests and their status (PASSED or FAILED) are listed in the terminal.
A **test report** is also generated in HTML, containing detailed information
about the tests and any failures that have occurred.  You can access this
by pointing your browser at `core/build/reports/tests/test/index.html`.
We suggest you keep this page open in a browser tab, refreshing it
as necessary, so that you always have full information available on test
results.

Note that Gradle won't normally rerun tests if they have all passed, unless
you've changed something in your code.  You can force it to recompile
everything and rerun the tests using

    ./gradlew :core:test --rerun-tasks

To check coding style for `WeatherRecord` and `WeatherDataset`, do

    ./gradlew :core:checkstyleMain

If there are any style violations, you'll see a count reported in the
terminal window.  A full report on the violations can be viewed by pointing
your browser at `core/build/reports/checkstyle/main.html`.  Note that style
checking is not exhaustive and we may still penalise you on style grounds
even if no violations are reported here.  As with unit tests, Gradle
normally won't rerun the style check unless you change something in your
code.

You can check coding style *and* run tests in one go with

    ./gradlew :core:check

## The Analysis Application

You can check coding style for this application with

    ./gradlew :analysis:check

You can run the application on the provided data file like this:

    ./gradlew :analysis:run --args ../datafiles/leeds.csv

You can create a redistributable version of the application with

    ./gradlew :analysis:distZip

This creates a Zip archive `analysis.zip`, in `analysis/build/distributions`.
This Zip archive contains the compiled code for the core class library and
application, bundled into a pair of JAR files, plus a shell script and batch
file that can be used to run the program on Linux, macOS or Windows.

## Cleaning Up

To remove all files generated by the build process, use

    ./gradlew clean
